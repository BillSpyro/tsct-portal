{% extends "layouts/base.html" %}

{% block title %}TSCT Portal{% endblock %}

{% block content %}
<h2>Course</h2>
<ul>
  {% for course in courses %}
  <li>
    <p>{{course['major'] }} {{ course['course_number'] }}-{{ course['name'] }}</p>
    <p>Description: {{ course['description'] }}</p>
  </li>
  {% endfor %}
</ul>
<h3>Session</h3>
<ul>
  {% for session in sessions %}
  <li>
    <p>Name: {{ session['name'] }}, Times: {{ session['times'] }}</p>
  </li>
  {% endfor %}
</ul>
<h4>Assignment</h4>
<ul>
  {% for assignment in assignments %}
  <li>
    <p>Name: {{ assignment['name'] }}</p>
    <p>Due Date: {{ assignment['date'] }}</p>
    <p>Description: {{ assignment['description'] }}</p>
    <p>Points: {{ assignment['points'] }}</p>
    {% if g.users['role'] == 'student' %}
    <a href="{{ url_for('assignments.submit_assignment', assignment_id=assignment['id']) }}"><input type="button" value="Submit Assignment"></a>
    {% endif %}
  </li>
  {% endfor %}
</ul>
{% if g.users['role'] == 'teacher' %}
<h5>Submissions</h5>
<ul>
  {% for submission in submissions %}
  <li>
    <p>Student: {{ submission['users_id'] }}, Answer: {{ submission['answer'] }}</p>
  </li>
  {% endfor %}
</ul>
{% elif g.users['role'] == 'student' %}
<h5>Your submission</h5>
<ul>
  {% for submission in submissions %}
  <li>
    <p>Answer: {{ submission['answer'] }}</p>
  </li>
  {% endfor %}
</ul>
{% endif %}
{% endblock %}
